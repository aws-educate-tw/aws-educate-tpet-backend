{
	"info": {
		"_postman_id": "32b8be85-0997-42aa-8ce2-a210a777cb3a",
		"name": "Email Service Regression Test",
		"description": "# ğŸ§ª Get started here\n\nThis template helps ensure your API continues to work as expected after updates or changes. It contains sample requests and [scripts](https://learning.postman.com/docs/writing-scripts/intro-to-scripts/) for a series of tests that validate different aspects of an API, including:\n\n1. **Status code verification:** We'll check if the API returns the expected status codes for various requests, ensuring reliability and proper error handling.\n    \n2. **JSON schema verification:** We'll make sure the JSON response conforms to a specified JSON Schema, ensuring API contracts are honored.\n    \n3. **Response time verification:** We'll verify that the API's response time is within the acceptable range, providing a smooth user experience and optimizing performance.\n    \n4. **Response body verification:** We'll validate the structure and content of the response body for accuracy, ensuring the integrity of the data and preventing potential issues downstream.\n    \n5. **Header verification:** We'll confirm the presence and correct values of specific headers in the response, enabling secure and well-structured communication between your app and its users.\n    \n\n## ğŸ”– **How to use this template**\n\n**Step 1:** Send the sample requests and view the response and test results.\n\n**Step 2:** Replace the sample request URLs with your desired API endpoints.\n\n**Step 3:** Customize the tests in the \"Scripts\" tab if needed. Don't forget to save your changes.\n\n**Step 4:** [Run the collection](https://learning.postman.com/docs/collections/running-collections/intro-to-collection-runs/) by selecting \"Run\".\n\n<img src=\"https://content.pstmn.io/666cfa65-6e00-4308-871b-f831128bc0ac/Y29sbGVjdGlvbi1ydW5uZXItYnV0dG9uLmpwZWc=\" width=\"246\" height=\"102\">\n\n## ğŸ’¡Related templates\n\n[Integration testing](https://go.postman.co/redirect/workspace?type=personal&collectionTemplateId=fe506090-ca91-4340-bea9-82d2c3d2bb9a&sourceTemplateId=7ab0f80e-a964-46ee-b948-4a4e3a85809c)  \n[Performance testing](https://go.postman.co/redirect/workspace?type=personal&collectionTemplateId=3302192d-87dd-4612-b381-61894de21203&sourceTemplateId=7ab0f80e-a964-46ee-b948-4a4e3a85809c)  \n[Mock data generation](https://go.postman.co/redirect/workspace?type=personal&collectionTemplateId=da8ceebc-d4da-478c-ab8a-37634faefc74&sourceTemplateId=7ab0f80e-a964-46ee-b948-4a4e3a85809c)  \n[Common API vulnerabilities check](https://go.postman.co/redirect/workspace?type=personal&collectionTemplateId=e1edbae8-6429-453d-890e-00385eea1811&sourceTemplateId=7ab0f80e-a964-46ee-b948-4a4e3a85809c)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "36968695",
		"_collection_link": "https://aws-educate-tw.postman.co/workspace/TPET-API-Development-Workspace~b6915213-64a3-408d-b297-45f472fa0a6b/collection/36968695-32b8be85-0997-42aa-8ce2-a210a777cb3a?action=share&source=collection_link&creator=36968695"
	},
	"item": [
		{
			"name": "Send email",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// Define the URL for the list_files API",
							"const fileServiceUrl = `https://${pm.environment.get(\"environment\")}-file-service-internal-api-tpet.aws-educate.tw/${pm.environment.get(\"environment\")}/files?file_extension=html&limit=1`;",
							"",
							"// Send a GET request to the list_files API",
							"pm.sendRequest({",
							"    url: fileServiceUrl,",
							"    method: \"GET\",",
							"    header: {",
							"        \"Authorization\": `Bearer ${pm.environment.get(\"access_token\")}`",
							"    }",
							"}, function (err, response) {",
							"    // Handle errors in the request",
							"    if (err) {",
							"        console.error(\"Error calling list_files API:\", err);",
							"        throw new Error(\"Failed to fetch file list. Check your file service.\");",
							"    }",
							"",
							"    // Parse the response and extract the file_id",
							"    const responseData = response.json();",
							"",
							"    // Ensure data array exists and has at least one file",
							"    if (responseData.data && responseData.data.length > 0) {",
							"        const file = responseData.data[0];",
							"        const fileId = file.file_id;",
							"        const fileName = file.file_name;",
							"        const fileUrl = file.file_url;",
							"",
							"        // Store file_id and other details in environment variables",
							"        pm.environment.set(\"template_file_id\", fileId);",
							"        pm.environment.set(\"template_file_name\", fileName);",
							"        pm.environment.set(\"template_file_url\", fileUrl);",
							"",
							"        console.log(\"HTML file_id set:\", fileId);",
							"        console.log(\"HTML file_name set:\", fileName);",
							"        console.log(\"HTML file_url set:\", fileUrl);",
							"    } else {",
							"        pm.environment.unset(\"template_file_id\");",
							"        pm.environment.unset(\"template_file_name\");",
							"        pm.environment.unset(\"template_file_url\");",
							"        throw new Error(\"No HTML file found in the file service.\");",
							"    }",
							"});",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{access_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"recipient_source\": \"DIRECT\",\n    \"subject\": \"[PR {{pull_request_number}} - {{commit_sha}} Regression Test] {{$randomWords}}\",\n    \"display_name\": \"GitHub Actions{{pull_request_number}} - API Regression Test\",\n    \"template_file_id\": \"{{template_file_id}}\",\n    \"is_generate_certificate\": true,\n    \"reply_to\": \"postman+{{commit_sha}}@{{domain}}\",\n    \"sender_local_part\": \"githubactions.pr{{pull_request_number}}.{{commit_sha}}\",\n    \"recipients\": [\n        {\n            \"email\": \"h830519h@yahoo.com.tw\",\n            \"template_variables\": {\n                \"Name\": \"harryé¾\",\n                \"Certificate Text\": \"in recognition of your participation in the AWS Educate Program - Certification Training on July 5, 2024 at AWS Educate Program.\"\n            }\n        }\n    ],\n    \"attachment_file_ids\": [\n        \"{{template_file_id}}\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{environment}}-email-service-internal-api-tpet.aws-educate.tw/{{environment}}/send-email",
					"protocol": "https",
					"host": [
						"{{environment}}-email-service-internal-api-tpet",
						"aws-educate",
						"tw"
					],
					"path": [
						"{{environment}}",
						"send-email"
					]
				}
			},
			"response": [
				{
					"name": "202 (Deprecated)",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - 07:37 preview ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"template_file_id\": \"dd69a970a1f6432ca9a3391c7c2b74b5\",\n    \"spreadsheet_file_id\": \"39888eb447164b76bf0429d7d00f79ed\",\n    \"attachment_file_ids\": [\n        \"d1387ea8bb5543fa9f0cbd53cf0c428b\"\n    ],\n    \"is_generate_certificate\": false,\n    \"reply_to\": \"rich.liu627@gmail.com\",\n    \"sender_local_part\": \"no-reply\",\n    \"bcc\": [\n        \"c6vl9.bcc2@inbox.testmail.app\"\n    ],\n    \"cc\": [\n        \"c6vl9.cc1@inbox.testmail.app\",\n        \"c6vl9.cc2@inbox.testmail.app\"\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{environment}}-email-service-internal-api-tpet.aws-educate.tw/{{environment}}/send-email",
							"protocol": "https",
							"host": [
								"{{environment}}-email-service-internal-api-tpet",
								"aws-educate",
								"tw"
							],
							"path": [
								"{{environment}}",
								"send-email"
							]
						}
					},
					"status": "Accepted",
					"code": 202,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Tue, 30 Jul 2024 23:19:40 GMT"
						},
						{
							"key": "Content-Type",
							"value": "text/plain; charset=utf-8"
						},
						{
							"key": "Content-Length",
							"value": "846"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Apigw-Requestid",
							"value": "bv85niBXPHcESTA="
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": \"SUCCESS\",\n    \"message\": \"Input message accepted for processing\",\n    \"run_id\": \"0b18c03146b441c0a79f0b8876e3499a\",\n    \"template_file_id\": \"dd69a970a1f6432ca9a3391c7c2b74b5\",\n    \"spreadsheet_file_id\": \"39888eb447164b76bf0429d7d00f79ed\",\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - 07:37 preview ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"attachment_file_ids\": [\n        \"d1387ea8bb5543fa9f0cbd53cf0c428b\"\n    ],\n    \"is_generate_certificate\": false,\n    \"sender_id\": \"9881b370-0031-7037-b42e-ef737d3aa382\",\n    \"reply_to\": \"rich.liu627@gmail.com\",\n    \"sender_local_part\": \"no-reply\",\n    \"cc\": [\n        \"c6vl9.cc1@inbox.testmail.app\",\n        \"c6vl9.cc2@inbox.testmail.app\"\n    ],\n    \"bcc\": [\n        \"c6vl9.bcc2@inbox.testmail.app\"\n    ],\n    \"email_count\": 3\n}"
				},
				{
					"name": "400 (missing required fields for certificate generation)",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipient_source\": \"DIRECT\",\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - local-dev 05:11 ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"template_file_id\": \"0aeff5f3f7cb44708f3706906d5d4fff\",\n    \"spreadsheet_file_id\": \"d9df7cd2c6fa4fadbf82df5e0dc2612f\",\n    \"is_generate_certificate\": true,\n    \"reply_to\": \"harryup2000@gmail.com\",\n    \"sender_local_part\": \"event\",\n    \"recipients\": [\n        {\n            \"email\": \"h830519h@yahoo.com.tw\",\n            \"template_variables\": {}\n        }\n    ],\n    \"attachment_file_ids\": [\n        \"d9df7cd2c6fa4fadbf82df5e0dc2612f\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{environment}}-email-service-internal-api-tpet.aws-educate.tw/{{environment}}/send-email",
							"protocol": "https",
							"host": [
								"{{environment}}-email-service-internal-api-tpet",
								"aws-educate",
								"tw"
							],
							"path": [
								"{{environment}}",
								"send-email"
							]
						}
					},
					"status": "Bad Request",
					"code": 400,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Sun, 10 Nov 2024 21:14:21 GMT"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Content-Length",
							"value": "117"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Apigw-Requestid",
							"value": "BDJHHgVCPHcESoQ="
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Email h830519h@yahoo.com.tw missing required fields for certificate generation: Name, Certificate Text\"\n}"
				},
				{
					"name": "400 (DIRECT, missing recipients list)",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipient_source\": \"DIRECT\",\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - local-dev 05:11 ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"template_file_id\": \"0aeff5f3f7cb44708f3706906d5d4fff\",\n    \"spreadsheet_file_id\": \"d9df7cd2c6fa4fadbf82df5e0dc2612f\",\n    \"is_generate_certificate\": true,\n    \"reply_to\": \"harryup2000@gmail.com\",\n    \"sender_local_part\": \"event\",\n    \"recip\": [\n        {\n            \"email\": \"h830519h@yahoo.com.tw\",\n            \"template_variables\": {}\n        }\n    ],\n    \"attachment_file_ids\": [\n        \"d9df7cd2c6fa4fadbf82df5e0dc2612f\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{environment}}-email-service-internal-api-tpet.aws-educate.tw/{{environment}}/send-email",
							"protocol": "https",
							"host": [
								"{{environment}}-email-service-internal-api-tpet",
								"aws-educate",
								"tw"
							],
							"path": [
								"{{environment}}",
								"send-email"
							]
						}
					},
					"status": "Bad Request",
					"code": 400,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Sun, 10 Nov 2024 21:15:06 GMT"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Content-Length",
							"value": "38"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Apigw-Requestid",
							"value": "BDJOKhb6PHcESjA="
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Missing recipients list\"\n}"
				},
				{
					"name": "400 (missing required template variables)",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipient_source\": \"DIRECT\",\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - local-dev 05:31 ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"template_file_id\": \"0aeff5f3f7cb44708f3706906d5d4fff\",\n    \"spreadsheet_file_id\": \"d9df7cd2c6fa4fadbf82df5e0dc2612f\",\n    \"is_generate_certificate\": false,\n    \"reply_to\": \"harryup2000@gmail.com\",\n    \"sender_local_part\": \"event\",\n    \"recipients\": [\n        {\n            \"email\": \"h830519h@yahoo.com.tw\",\n            \"template_variables\": {}\n        }\n    ],\n    \"attachment_file_ids\": [\n        \"d9df7cd2c6fa4fadbf82df5e0dc2612f\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{environment}}-email-service-internal-api-tpet.aws-educate.tw/{{environment}}/send-email",
							"protocol": "https",
							"host": [
								"{{environment}}-email-service-internal-api-tpet",
								"aws-educate",
								"tw"
							],
							"path": [
								"{{environment}}",
								"send-email"
							]
						}
					},
					"status": "Bad Request",
					"code": 400,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Sun, 10 Nov 2024 21:31:37 GMT"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Content-Length",
							"value": "84"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Apigw-Requestid",
							"value": "BDLpEheSPHcEJfg="
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Email h830519h@yahoo.com.tw missing required template variables: Name\"\n}"
				},
				{
					"name": "202 (DIRECT)",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipient_source\": \"DIRECT\",\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - local-dev 05:31 ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"template_file_id\": \"0aeff5f3f7cb44708f3706906d5d4fff\",\n    \"spreadsheet_file_id\": \"d9df7cd2c6fa4fadbf82df5e0dc2612f\",\n    \"is_generate_certificate\": false,\n    \"reply_to\": \"harryup2000@gmail.com\",\n    \"sender_local_part\": \"event\",\n    \"recipients\": [\n        {\n            \"email\": \"h830519h@yahoo.com.tw\",\n            \"template_variables\": {\n                \"Name\": \"Shiun\"\n            }\n        },\n        {\n            \"email\": \"rich.liu627@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Richie åŠ‰\"\n            }\n        },\n        {\n            \"email\": \"poyang1024@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Tony ç‹\"\n            }\n        },\n        {\n            \"email\": \"harryup2000@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Harry è€é—†\"\n            }\n        }\n    ],\n    \"attachment_file_ids\": [\n        \"d9df7cd2c6fa4fadbf82df5e0dc2612f\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{environment}}-email-service-internal-api-tpet.aws-educate.tw/{{environment}}/send-email",
							"protocol": "https",
							"host": [
								"{{environment}}-email-service-internal-api-tpet",
								"aws-educate",
								"tw"
							],
							"path": [
								"{{environment}}",
								"send-email"
							]
						}
					},
					"status": "Accepted",
					"code": 202,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Sun, 10 Nov 2024 21:34:13 GMT"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Content-Length",
							"value": "1281"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Apigw-Requestid",
							"value": "BDMBVgmdvHcEPKA="
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": \"SUCCESS\",\n    \"message\": \"Your send email request has been successfully received and is being processed.\",\n    \"recipient_source\": \"DIRECT\",\n    \"run_id\": \"7604cc5be2e5430aa568e5fa4a82635c\",\n    \"template_file_id\": \"0aeff5f3f7cb44708f3706906d5d4fff\",\n    \"spreadsheet_file_id\": null,\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - local-dev 05:31 ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"attachment_file_ids\": [\n        \"d9df7cd2c6fa4fadbf82df5e0dc2612f\"\n    ],\n    \"is_generate_certificate\": false,\n    \"sender_id\": \"9881b370-0031-7037-b42e-ef737d3aa382\",\n    \"reply_to\": \"harryup2000@gmail.com\",\n    \"sender_local_part\": \"event\",\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"recipients\": [\n        {\n            \"email\": \"h830519h@yahoo.com.tw\",\n            \"template_variables\": {\n                \"Name\": \"Shiun\"\n            }\n        },\n        {\n            \"email\": \"rich.liu627@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Richie åŠ‰\"\n            }\n        },\n        {\n            \"email\": \"poyang1024@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Tony ç‹\"\n            }\n        },\n        {\n            \"email\": \"harryup2000@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Harry è€é—†\"\n            }\n        }\n    ],\n    \"success_email_count\": 0,\n    \"expected_email_send_count\": 4\n}"
				},
				{
					"name": "202 (SPREADSHEET)",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipient_source\": \"SPREADSHEET\",\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - local-dev 05:31 ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"template_file_id\": \"0aeff5f3f7cb44708f3706906d5d4fff\",\n    \"spreadsheet_file_id\": \"bfc952be207d42df91386a177440a6aa\",\n    \"is_generate_certificate\": false,\n    \"reply_to\": \"harryup2000@gmail.com\",\n    \"sender_local_part\": \"event\",\n    \"recipients\": [\n        {\n            \"email\": \"h830519h@yahoo.com.tw\",\n            \"template_variables\": {\n                \"Name\": \"Shiun\"\n            }\n        },\n        {\n            \"email\": \"rich.liu627@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Richie åŠ‰\"\n            }\n        },\n        {\n            \"email\": \"poyang1024@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Tony ç‹\"\n            }\n        },\n        {\n            \"email\": \"harryup2000@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Harry è€é—†\"\n            }\n        }\n    ],\n    \"attachment_file_ids\": [\n        \"d9df7cd2c6fa4fadbf82df5e0dc2612f\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{environment}}-email-service-internal-api-tpet.aws-educate.tw/{{environment}}/send-email",
							"protocol": "https",
							"host": [
								"{{environment}}-email-service-internal-api-tpet",
								"aws-educate",
								"tw"
							],
							"path": [
								"{{environment}}",
								"send-email"
							]
						}
					},
					"status": "Accepted",
					"code": 202,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Sun, 10 Nov 2024 21:40:24 GMT"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Content-Length",
							"value": "984"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Apigw-Requestid",
							"value": "BDM7GgvmPHcEP6Q="
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": \"SUCCESS\",\n    \"message\": \"Your send email request has been successfully received and is being processed.\",\n    \"recipient_source\": \"SPREADSHEET\",\n    \"run_id\": \"f723f582b2be4d4e870d521f0c7dc757\",\n    \"template_file_id\": \"0aeff5f3f7cb44708f3706906d5d4fff\",\n    \"spreadsheet_file_id\": \"bfc952be207d42df91386a177440a6aa\",\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - local-dev 05:31 ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"attachment_file_ids\": [\n        \"d9df7cd2c6fa4fadbf82df5e0dc2612f\"\n    ],\n    \"is_generate_certificate\": false,\n    \"sender_id\": \"9881b370-0031-7037-b42e-ef737d3aa382\",\n    \"reply_to\": \"harryup2000@gmail.com\",\n    \"sender_local_part\": \"event\",\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"recipients\": [],\n    \"success_email_count\": 0,\n    \"expected_email_send_count\": 3\n}"
				},
				{
					"name": "202 (DIRECT, Certificate)",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipient_source\": \"DIRECT\",\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - local-dev 05:31 ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"template_file_id\": \"0aeff5f3f7cb44708f3706906d5d4fff\",\n    \"spreadsheet_file_id\": \"bfc952be207d42df91386a177440a6aa\",\n    \"is_generate_certificate\": true,\n    \"reply_to\": \"harryup2000@gmail.com\",\n    \"sender_local_part\": \"event\",\n    \"recipients\": [\n        {\n            \"email\": \"h830519h@yahoo.com.tw\",\n            \"template_variables\": {\n                \"Name\": \"Shiun å‹³\",\n                \"Certificate Text\": \"in recognition of your participation in the AWS Educate Program - Certification Training on July 5, 2024 at AWS Educate Program.\"\n            }\n        },\n        {\n            \"email\": \"rich.liu627@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Richie åŠ‰\",\n                \"Certificate Text\": \"in recognition of your participation in the AWS Educate Program - Certification Training on July 5, 2024 at AWS Educate Program.\"\n            }\n        }\n    ],\n    \"attachment_file_ids\": [\n        \"d9df7cd2c6fa4fadbf82df5e0dc2612f\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{environment}}-email-service-internal-api-tpet.aws-educate.tw/{{environment}}/send-email",
							"protocol": "https",
							"host": [
								"{{environment}}-email-service-internal-api-tpet",
								"aws-educate",
								"tw"
							],
							"path": [
								"{{environment}}",
								"send-email"
							]
						}
					},
					"status": "Accepted",
					"code": 202,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Sun, 10 Nov 2024 21:43:11 GMT"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Content-Length",
							"value": "1419"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Apigw-Requestid",
							"value": "BDNVch_1vHcEJsA="
						}
					],
					"cookie": [],
					"body": "{\n    \"status\": \"SUCCESS\",\n    \"message\": \"Your send email request has been successfully received and is being processed.\",\n    \"recipient_source\": \"DIRECT\",\n    \"run_id\": \"bb6a469a832e480ab95e26988c6493b3\",\n    \"template_file_id\": \"0aeff5f3f7cb44708f3706906d5d4fff\",\n    \"spreadsheet_file_id\": null,\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - local-dev 05:31 ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"attachment_file_ids\": [\n        \"d9df7cd2c6fa4fadbf82df5e0dc2612f\"\n    ],\n    \"is_generate_certificate\": true,\n    \"sender_id\": \"9881b370-0031-7037-b42e-ef737d3aa382\",\n    \"reply_to\": \"harryup2000@gmail.com\",\n    \"sender_local_part\": \"event\",\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"recipients\": [\n        {\n            \"email\": \"h830519h@yahoo.com.tw\",\n            \"template_variables\": {\n                \"Name\": \"Shiun å‹³\",\n                \"Certificate Text\": \"in recognition of your participation in the AWS Educate Program - Certification Training on July 5, 2024 at AWS Educate Program.\"\n            }\n        },\n        {\n            \"email\": \"rich.liu627@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Richie åŠ‰\",\n                \"Certificate Text\": \"in recognition of your participation in the AWS Educate Program - Certification Training on July 5, 2024 at AWS Educate Program.\"\n            }\n        }\n    ],\n    \"success_email_count\": 0,\n    \"expected_email_send_count\": 2\n}"
				},
				{
					"name": "400 (SPREADSHEET, Missing spreadsheet file ID)",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipient_source\": \"SPREADSHEET\",\n    \"subject\": \"ã€åƒèˆ‡è­‰æ˜ã€‘AWS Educate é›²ç«¯å¤§ä½¿æ„Ÿè¬æ‚¨çš„åƒèˆ‡ - local-dev 05:31 ï¼ˆåƒèˆ‡è­‰æ˜è«‹åƒè¦‹é™„ä»¶ï¼‰\",\n    \"display_name\": \"AWS Educate åƒèˆ‡è­‰æ˜\",\n    \"template_file_id\": \"0aeff5f3f7cb44708f3706906d5d4fff\",\n    \"is_generate_certificate\": true,\n    \"reply_to\": \"harryup2000@gmail.com\",\n    \"sender_local_part\": \"event\",\n    \"recipients\": [\n        {\n            \"email\": \"h830519h@yahoo.com.tw\",\n            \"template_variables\": {\n                \"Name\": \"Shiun å‹³\",\n                \"Certificate Text\": \"in recognition of your participation in the AWS Educate Program - Certification Training on July 5, 2024 at AWS Educate Program.\"\n            }\n        },\n        {\n            \"email\": \"rich.liu627@gmail.com\",\n            \"template_variables\": {\n                \"Name\": \"Richie åŠ‰\",\n                \"Certificate Text\": \"in recognition of your participation in the AWS Educate Program - Certification Training on July 5, 2024 at AWS Educate Program.\"\n            }\n        }\n    ],\n    \"attachment_file_ids\": [\n        \"d9df7cd2c6fa4fadbf82df5e0dc2612f\"\n    ],\n    \"bcc\": [\n        \"rich.liu627@gmail.com\",\n        \"harryup2000@gmail.com\"\n    ],\n    \"cc\": [\n        \"ptqwe20020413@gmail.com\",\n        \"h830519h@yahoo.com.tw\"\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{environment}}-email-service-internal-api-tpet.aws-educate.tw/{{environment}}/send-email",
							"protocol": "https",
							"host": [
								"{{environment}}-email-service-internal-api-tpet",
								"aws-educate",
								"tw"
							],
							"path": [
								"{{environment}}",
								"send-email"
							]
						}
					},
					"status": "Bad Request",
					"code": 400,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Sun, 10 Nov 2024 21:43:54 GMT"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Content-Length",
							"value": "42"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Apigw-Requestid",
							"value": "BDNcJjmtPHcEJgg="
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Missing spreadsheet file ID\"\n}"
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "service_hyphen",
			"value": "email-service",
			"type": "default"
		}
	]
}